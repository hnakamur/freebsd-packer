{
  "builders": [
    {
      "type": "virtualbox-iso",
      "iso_url": "http://ftp-archive.freebsd.org/pub/FreeBSD-Archive/old-releases/amd64/ISO-IMAGES/7.1/7.1-RELEASE-amd64-disc1.iso",
      "iso_checksum": "ac88bfa3359aea242450d74c20347bde",
      "iso_checksum_type": "md5",
      "ssh_username": "vagrant",
      "ssh_password": "vagrant",
      "ssh_wait_timeout": "1000s",
      "guest_os_type": "FreeBSD_64",
      "headless": "false",
      "shutdown_command": "echo 'shutdown -p now' | sudo su -",
      "boot_wait": "10s",
      "http_directory": "http",
      "disk_size": 20480,
      "vboxmanage": [
        [
          "modifyvm",
          "{{.Name}}",
          "--memory",
          "1024"
        ],
        [
          "modifyvm",
          "{{.Name}}",
          "--cpus",
          "2"
        ]
      ],
      "boot_command": [
        "<wait>1<enter>", // boot menu
        "<wait10><enter>", // country selection
        "<wait>s<enter>", // begin a standard installation
        "<wait><enter>", // message before fdisk
        "AQ", // use entire disk and finish
        "<wait>s<enter>", // install a standard MBR (no boot manager)
        "<enter>", // message before creating partitions
        "AQ", // create auto defaults partitions and finish
        "<wait>4 ", // choose "Developer" for distributions
        "<wait><enter>", // install the FreeBSD ports collection
        "<wait>x<enter>", // exit distributions menu
        "<wait><enter>", // install from a FreeBSD CD/DVD
        "<enter>", // last chance before installation, sure to want continue
        "<wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><wait10><enter>", // conguraturations
        "<wait><enter>", // confirmation for configuring network devices
        "<wait><enter>", // choose ethernet card
        "<wait><enter>", // no ipv6
        "<wait><tab><enter>", // try DHCP
        "<wait5>freebsd71<tab><tab><tab><tab><tab><tab><tab><enter>", // network configuration
        "<wait><enter>", // no network gateway
        "<wait><enter>", // no inetd
        "<wait><tab><enter>", // enable SSH login
        "<wait><enter>", // no anonymous FTP
        "<wait><enter>", // no NFS server
        "<wait><tab><enter>", // configure NFS client
        "<wait><enter>", // no customization for system console settings
        "<wait><tab><enter>", // skip time zone setting
        "<wait><enter>", // no PS/2 mouse
        "<wait><enter>", // browse the package collection
        "<wait><end><pageUp><down><down><down><down><down><down> ", // enter security
        "<wait><end> <tab><enter>", // select sudo
        "<wait><tab><enter>", // click install
        "<wait><enter>", // install sudo
        "<wait><enter>", // yes to add initial user accounts
        "<wait>u<enter>vagrant<tab><tab>20<tab>vagrant<tab><tab>wheel<tab><tab><tab><enter>", // add vagrant user
        "<wait>x<enter>", // exit user and group management menu
        "<wait><enter>", // message before setting root password
        "<wait>password<enter><wait>password<enter>", // input and retype root password
        "<wait><tab><enter>", // visit the general configuration menu
        "<wait>f<enter>", // enter Fixit menu
        "<wait>4<enter>", // choose Shell menu
        "<wait><pressAlt><f4><releaseAlt>", // press alt+F4 to switch to shell
        "<wait>echo 'vagrant ALL=(ALL) NOPASSWD:ALL' >> /usr/local/etc/sudoers<enter>", // add vagarnt user to sudoers
        "<wait>mkdir ~vagrant/.ssh<enter>",
        "<wait>fetch -o ~vagrant/.ssh/authorized_keys https://raw.github.com/mitchellh/vagrant/master/keys/vagrant.pub<enter>",
        "<wait10>chown -R vagrant: ~vagrant/.ssh<enter>",
        "<wait>chmod 700 ~vagrant/.ssh<enter>",
        "<wait>chmod 600 ~vagrant/.ssh/authorized_keys<enter>",
        "<wait><pressAlt><f1><releaseAlt>", // return to installer
        "<wait>x<enter>", // exit Fixit menu
        "<wait>x", // exit install
        "<wait><tab><enter>" // sure to exit
      ]
    }
  ],
  "post-processors": [
    {
      "output": "./builds/freebsd-7.1-amd64.box",
      "type": "vagrant"
    }
  ]
}
